if(typeof jQuery=="undefined"){alert("Hashgrid: jQuery not loaded. Make sure it's linked to your pages.")}var hashgrid=function(p){var d={id:"grid",modifierKey:null,showGridKey:"g",holdGridKey:"h",foregroundKey:"f",jumpGridsKey:"j",numberOfGrids:1,classPrefix:"grid-",cookiePrefix:"hashgrid"};var B=false,D=false,G="B",h=-1,v=9999,m=1;if(typeof p=="object"){var w;for(w in p){d[w]=p[w]}}else{if(typeof p=="string"){d.id=p}}if($("#"+d.id).length>0){$("#"+d.id).remove()}var o=$("<div></div>");o.attr("id",d.id).css({display:"none","pointer-events":"none"});$("body").prepend(o);var A=$("#"+d.id);if(A.css("z-index")=="auto"){A.css("z-index",h)}var g=parseFloat($(document).height());A.height(g);A.append('<div id="'+d.id+'-horiz" class="horiz first-line">');var q=A.css("top");A.css({top:"-999px",display:"block"});var l=$("#"+d.id+"-horiz"),b=l.outerHeight();A.css({display:"none",top:q});if(b<=0){return true}var x,t=Math.floor(g/b);for(x=t-1;x>=1;x--){A.append('<div class="horiz"></div>')}A.append($('<div class="vert-container"></div>'));var s=A.children(".vert-container");var z=A.width();s.css({width:z,position:"absolute",top:0});s.append('<div class="vert first-line">&nbsp;</div>');for(x=0;x<30;x++){s.append('<div class="vert">&nbsp;</div>')}s.children().height(g).css({display:"inline-block"});var C=a(d.cookiePrefix+d.id);if(typeof C=="string"){var e=C.split(",");e[2]=Number(e[2]);if((typeof e[2]=="number")&&!isNaN(e[2])){m=e[2].toFixed(0);A.addClass(d.classPrefix+m)}if(e[1]=="F"){G="F";A.css("z-index",v)}if(e[0]=="1"){B=true;D=true;y()}}else{A.addClass(d.classPrefix+m)}$(document).bind("keydown",f);$(document).bind("keyup",c);function E(k){if(d.modifierKey==null){return true}var i=true;switch(d.modifierKey){case"ctrl":i=(k.ctrlKey?k.ctrlKey:false);break;case"alt":i=(k.altKey?k.altKey:false);break;case"shift":i=(k.shiftKey?k.shiftKey:false);break}return i}function n(H){var i=false,I=(H.keyCode?H.keyCode:H.which);if(I==13){i="enter"}else{i=String.fromCharCode(I).toLowerCase()}return i}function j(){r(d.cookiePrefix+d.id,(D?"1":"0")+","+G+","+m,1)}function y(){A.show();s.css({width:A.width()});s.children(".vert").each(function(){$(this).css("display","inline-block");if($(this).offset().top>0){$(this).hide()}})}function f(J){var I=J.target.tagName.toLowerCase();if((I=="input")||(I=="textarea")||(I=="select")){return true}var i=E(J);if(!i){return true}var H=n(J);if(!H){return true}switch(H){case d.showGridKey:if(!B){y();B=true}else{if(D){A.hide();B=false;D=false;j()}}break;case d.holdGridKey:if(B&&!D){D=true;j()}break;case d.foregroundKey:if(B){if(A.css("z-index")==v){A.css("z-index",h);G="B"}else{A.css("z-index",v);G="F"}j()}break;case d.jumpGridsKey:if(B&&(d.numberOfGrids>1)){A.removeClass(d.classPrefix+m);m++;if(m>d.numberOfGrids){m=1}A.addClass(d.classPrefix+m);y();if(/webkit/.test(navigator.userAgent.toLowerCase())){u()}j()}break}}function c(I){var i=E(I);if(!i){return true}var H=n(I);if(!H){return true}if((H==d.showGridKey)&&!D){A.hide();B=false}}function r(H,I,J){if(J){var k=new Date();k.setTime(k.getTime()+(J*24*60*60*1000));var i="; expires="+k.toGMTString()}else{var i=""}document.cookie=H+"="+I+i+"; path=/"}function a(H){var J=H+"=";var k=document.cookie.split(";");for(var I=0;I<k.length;I++){var K=k[I];while(K.charAt(0)==" "){K=K.substring(1,K.length)}if(K.indexOf(J)==0){return K.substring(J.length,K.length)}}return null}function F(i){r(i,"",-1)}function u(){var i=document.styleSheets[0];try{i.addRule(".xxxxxx","position: relative");i.removeRule(i.rules.length-1)}catch(k){}}};$(document).ready(function(){var a=new hashgrid({numberOfGrids:2})});